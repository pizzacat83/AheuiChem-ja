/*! aheuichem 2019-11-26 */

!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b,c,d,e,f){this.tile=a,this.data=d,this.tileX=b,this.tileY=c,this.renderer=e,this.callback=f}var e=a("./parser"),f=a("./interpreter");d.prototype.exec=function(){this.before={};for(var a in this.data)this.before[a]=this.tile[a],this.tile[a]=this.data[a];this.update()},d.prototype.undo=function(){for(var a in this.before)this.tile[a]=this.before[a];this.update()},d.prototype.update=function(){var a=f.CommandMap[this.tile.command];null!=a&&a.argument&&null==this.tile.data&&(this.tile.data=0),"push"==this.tile.command&&this.tile.data>9&&(this.tile.data=0),this.tile.original=e.encodeSyllable(this.tile),this.renderer.map.set(this.tileX,this.tileY,this.tile),this.renderer.updateTile(this.tileX,this.tileY),this.callback&&this.callback()},b.exports=d},{"./interpreter":7,"./parser":13}],2:[function(a,b,c){function d(a,b,c,d){for(this.layers=[],this.layersByName={},this.layerContexts=[],this.layerContextsByName={},this.width=c,this.height=d,this.viewport=a,a.style.position="relative",a.style.width=c+"px",a.style.height=d+"px";a.firstChild;)a.removeChild(a.firstChild);for(var e=0;e<b.length;++e){var f=b[e],g=document.createElement("canvas");g.width=c,g.height=d,g.style.position="absolute";var h=g.getContext("2d");this.layers[e]=g,this.layersByName[f]=g,this.layerContexts[e]=h,this.layerContextsByName[f]=h,a.appendChild(g)}}d.prototype.setSize=function(a,b){this.viewport.style.width=a+"px",this.viewport.style.height=b+"px",this.width=a,this.height=b;for(var c=0;c<this.layers.length;++c){var d=this.layers[c];d.width=a,d.height=b}},d.prototype.get=function(a){return this.layerContextsByName[a]},d.prototype.getCanvas=function(a){return this.layersByName[a]},d.prototype.forEach=function(a,b){this.layerContexts.forEach(a,b)},d.prototype.canvasForEach=function(a,b){this.layers.forEach(a,b)},d.prototype.dump=function(a){var b=a.getContext("2d");a.width=this.width,a.height=this.height,this.canvasForEach(function(a){b.drawImage(a,0,0)})},b.exports=d},{}],3:[function(a,b,c){function d(a,b,c,d,e,f,g,h){this.container=a,this.element=b,this.pushElement=c,this.finalElement=d,this.hideEvent=this.hide.bind(this),this.init(),this.renderer=e,this.clickCallback=f,this.keyboard=g,this.undomachine=h,this.tileX=null,this.tileY=null,this.tile=null,this.clipboard={}}var e=a("./table"),f=a("./tilemap"),g=a("./keyboard"),h=a("./hangul"),i=(a("./parser"),a("./action")),j=a("./interpreter"),k=[[{name:"Copy",exec:function(){this.clipboard={command:this.tile.command,direction:this.tile.direction,data:this.tile.data}}},{name:"Cut",exec:function(){this.clipboard={command:this.tile.command,direction:this.tile.direction,data:this.tile.data},this.undomachine.run(new i(this.tile,this.tileX,this.tileY,{command:"none",direction:"none",breakpoint:!1},this.renderer))}},{name:"Paste",exec:function(){this.undomachine.run(new i(this.tile,this.tileX,this.tileY,this.clipboard,this.renderer))}},{name:"Breakpoint",exec:function(){this.undomachine.run(new i(this.tile,this.tileX,this.tileY,{breakpoint:!this.tile.breakpoint},this.renderer))}}]],l=[[0,2,3,4,5],[6,7,8,9]],m=[" ㄱㄴㄷㄹㄲㄳㄵㄶ".split(""),"ㅁㅂㅅㅇㅈㄺㄻㄼㄽ".split(""),"ㅊㅋㅌㅍㅎㄾㄿㅀㅄㅆ".split("")],n=g.createKeyMap(k,g.KeyNumberLayout),o=g.createKeyMap(l),p=g.createKeyMap(m);d.prototype.update=function(){this.clickCallback&&this.clickCallback(this.tileX,this.tileY,this.tile)},d.prototype.init=function(){var a=this;a.container.addEventListener("contextmenu",function(a){return a.preventDefault(),!1});var b=f.fromArray(l),c=document.getElementById("push-table"),b=(new e(c,b,function(b,c,d,e){if(null==c)return void b.parentNode.removeChild(b);b.id="push-table-"+c,b.appendChild(document.createTextNode(c));var f=document.createElement("div");f.className="key",f.appendChild(document.createTextNode(g.KeyLayout[e][d])),b.appendChild(f),b.addEventListener("click",function(){a.undomachine.run(new i(a.tile,a.tileX,a.tileY,{data:c},a.renderer)),a.update()})}),f.fromArray(m)),c=document.getElementById("final-table"),b=(new e(c,b,function(b,c,d,e){if(null==c)return void b.parentNode.removeChild(b);b.id="final-table-"+c,b.appendChild(document.createTextNode(c));var f=document.createElement("div");f.className="key",f.appendChild(document.createTextNode(g.KeyShiftLayout[e][d])),b.appendChild(f),b.addEventListener("click",function(){a.undomachine.run(new i(a.tile,a.tileX,a.tileY,{data:h.final.indexOf(c)},a.renderer)),a.update()})}),f.fromArray(k)),c=document.getElementById("utility-table");new e(c,b,function(b,c,d,e){if(null==c)return void b.parentNode.removeChild(b);b.id="utility-table-"+c,b.appendChild(document.createTextNode(c.name));var f=document.createElement("div");f.className="key",f.appendChild(document.createTextNode(g.KeyNumberLayout[e][d])),b.appendChild(f),b.addEventListener("click",function(){c.exec.call(a),a.update()})})},d.prototype.show=function(a,b){var c=this;this.container.style.display="block",this.element.style.display="block",setTimeout(function(){c.element.style.top=b+"px",c.element.style.left=Math.max(0,Math.min(window.innerWidth-c.element.offsetWidth,a-c.element.offsetWidth/2+c.renderer.width/2))+"px",c.container.addEventListener("click",c.hideEvent),c.container.addEventListener("contextmenu",c.hideEvent)},0);var c=this;this.keyboard.push(null),this.keyboard.push({map:n,callback:function(a){a.exec.call(c),c.update(),c.hide()}}),"push"==this.tile.command?(this.finalElement.style.display="none",this.pushElement.style.display="block",this.keyboard.push({map:o,callback:function(a){c.undomachine.run(new i(c.tile,c.tileX,c.tileY,{data:a},c.renderer)),c.update(),c.hide()}})):j.CommandMap[this.tile.command]&&j.CommandMap[this.tile.command].argument?(this.finalElement.style.display="block",this.pushElement.style.display="none",this.keyboard.push({map:p,callback:function(a){c.undomachine.run(new i(c.tile,c.tileX,c.tileY,{data:h.final.indexOf(a)},c.renderer)),c.update(),c.hide()}})):(this.finalElement.style.display="none",this.pushElement.style.display="none",this.keyboard.push(null))},d.prototype.hide=function(a){if(this.container.removeEventListener("click",this.hideEvent),this.container.removeEventListener("contextmenu",this.hideEvent),this.container.style.display="none",this.element.style.display="none",this.keyboard.pop(),this.keyboard.pop(),this.keyboard.pop(),a)return a.preventDefault(),!1},b.exports=d},{"./action":1,"./hangul":5,"./interpreter":7,"./keyboard":8,"./parser":13,"./table":19,"./tilemap":20}],4:[function(a,b,c){function d(a,b,c,d,g,k){var l=b.get(a.x,a.y);if(f(c.x,c.y)){var m=a.y+e(c.y),n=a.x+e(c.x),o=b.get(n,m);o&&(g.push({x:n,y:m}),c.x?j(o,"skip-horizontal",k):j(o,"skip-vertical",k))}g.push({x:a.x,y:a.y});var p=d|i(c.x,c.y);j(l,u[p],k),a.y=h(a.y,c.y,b.height),a.x=h(a.x,c.x,b.getWidth(a.y))}function e(a){return a>0?1:a<0?-1:0}function f(a,b){return Math.abs(a)>=2||Math.abs(b)>=2}function g(a,b){return 1e3==b?a:-1e3==b?-a:b}function h(a,b,c){return 0==b?a:(a+=b,a<0&&(a=c-1),a>=c&&(a=0),a)}function i(a,b,c){var d=0;return c&&-2==b?p:c&&2==b?q:c&&-2==a?r:c&&2==a?s:(b<=-1&&(d|=l),b>=1&&(d|=m),a<=-1&&(d|=n),a>=1&&(d|=o),d)}function j(a,b,c){-1!=c&&null!=a&&(null==a.directions&&(a.directions=[]),null==a.directions[c]&&(a.directions[c]=[]),-1==a.directions[c].indexOf(b)&&a.directions[c].push(b))}var k={up:{x:0,y:-1},left:{x:-1,y:0},right:{x:1,y:0},down:{x:0,y:1},"skip-up":{x:0,y:-2},"skip-left":{x:-2,y:0},"skip-right":{x:2,y:0},"skip-down":{x:0,y:2},horizontal:{x:1e3,y:-1e3},vertical:{x:-1e3,y:1e3},reverse:{x:-1e3,y:-1e3},none:{x:1e3,y:1e3}},l=1,m=2,n=4,o=8,p=16,q=32,r=64,s=128,t={up:l,down:m,left:n,right:o,horizontal:n|o,vertical:l|m,"up-left":l|n,"down-left":m|n,"up-right":l|o,"down-right":m|o,"skip-up":p,"skip-down":q,"skip-left":r,"skip-right":s},u={};Object.keys(t).forEach(function(a){u[t[a]]=a}),b.exports={map:k,bitMap:t,bitRevMap:u,process:d,calculate:g,move:h,convertToBits:i,write:j}},{}],5:[function(a,b,c){var d={initial:"ㄱㄲㄴㄷㄸㄹㅁㅂㅃㅅㅆㅇㅈㅉㅊㅋㅌㅍㅎ".split(""),medial:"ㅏㅐㅑㅒㅓㅔㅕㅖㅗㅘㅙㅚㅛㅜㅝㅞㅟㅠㅡㅢㅣ".split(""),final:" ㄱㄲㄳㄴㄵㄶㄷㄹㄺㄻㄼㄽㄾㄿㅀㅁㅂㅄㅅㅆㅇㅈㅊㅋㅌㅍㅎ".split(""),code:44032};b.exports=d},{}],6:[function(a,b,c){function d(a){if(!a&&i)if(h.trim())i.reset();else for(var b=0;b<h.map.height;++b)for(var c=0;c<h.map.width;++c){var d=h.map.get(c,b),e=i.cacheMap.get(c,b);d&&(d.directions=[],d.segments={},e.directions={})}var f=h.map.width*h.map.height*80;j=new w(h.map);for(var g=0;g<f&&j.next();++g);j.postCheck(),!a&&i&&i.redraw(),window.predictor=j}function e(a){a||(h.reset(),i.reset()),document.getElementById("codeForm-output").value="",h.push(document.getElementById("codeForm-input").value),o.playing=!1,o.running=!1,o.update(),document.activeElement.blur()}function f(){if(G)return s.renderer=i,l.renderer=i,m.renderer=i,n.renderer=i,o.renderer=i,void(o.interpreter=h);q=new D(function(){document.getElementById("icon-undo").className="icon"+(q.undoStack.length>0?"":" disabled"),document.getElementById("icon-redo").className="icon"+(q.redoStack.length>0?"":" disabled")}),o=new B(h,i,function(){document.getElementById("codeForm-output").value+=h.shift(),document.getElementById("codeForm-debug").value=k.getStatus()},e.bind(this,!1)),l=new y(i),s=new F(i,document.getElementById("view-table")),s.trim=function(){h.trim(!0),i.reset(),d(!1)},n=new A(document.getElementById("context-bg"),document.getElementById("context"),document.getElementById("context-push"),document.getElementById("context-final"),i),r=new E(["menu-import","menu-status","menu-help"].map(function(a){return document.getElementById(a)}),["menu-btn-import","menu-btn-status","menu-btn-help"].map(function(a){return document.getElementById(a)})),m=new z(document.getElementById("viewport"),l,i,n,q),m.checkCallback=function(){return!o.running},m.clickCallback=d.bind(this,!1),p=new C,p.push({map:{z:function(){q.undo()},y:function(){q.redo()}," ":function(){o.playing=!0,o.running=!o.running,o.update()}},callback:function(a){a()}}),p.push({map:C.EditorKeyMapping,callback:function(a){l.changeSelected(a[0],a[1])}}),n.keyboard=p,n.undomachine=q,G=!0}function g(a){h=new v(a),k=new x(h),d(!0),i=new u(document.getElementById("canvas"),h),f(),q.reset(),window.undomachine=q,window.interpreter=h,window.predictor=j,e(!0)}var h,i,j,k,l,m,n,o,p,q,r,s,t=a("./parser"),u=a("./renderer"),v=a("./interpreter"),w=a("./predictor"),x=a("./monitor"),y=a("./toolbox"),z=a("./viewport"),A=a("./contextmenu"),B=a("./playback"),C=a("./keyboard"),D=a("./undomachine"),E=a("./menupane"),F=a("./layertoggler"),G=!1;window.onload=function(){g(" "),document.getElementById("codeForm").onsubmit=function(){return g(document.getElementById("codeForm-code").value),!1},document.getElementById("codeForm-export").onclick=function(){document.getElementById("codeForm-code").value=t.encode(h.map)},document.getElementById("icon-undo").onclick=function(){q.undo()},document.getElementById("icon-redo").onclick=function(){q.redo()}}},{"./contextmenu":3,"./interpreter":7,"./keyboard":8,"./layertoggler":9,"./menupane":11,"./monitor":12,"./parser":13,"./playback":14,"./predictor":15,"./renderer":16,"./toolbox":21,"./undomachine":22,"./viewport":23}],7:[function(a,b,c){function d(a){return{data:2,output:1,exec:function(b,c,d){var e=d.pull(),f=d.pull();d.push(a(e,f))}}}function e(a){this.map="string"==typeof a?f.parse(a):a,this.reset()}var f=a("./parser"),g=a("./memory"),h=a("./direction"),i={end:{data:0,output:0,exec:function(a,b,c){b.running=!1}},add:d(function(a,b){return b+a}),multiply:d(function(a,b){return b*a}),subtract:d(function(a,b){return b-a}),divide:d(function(a,b){return b/a|0}),mod:d(function(a,b){return b%a}),pop:{data:1,output:0,exec:function(a,b,c){c.pull()}},"pop-unicode":{data:1,output:0,exec:function(a,b,c){var d=c.pull();b.output.push(String.fromCharCode(d))}},"pop-number":{data:1,output:0,exec:function(a,b,c){var d=c.pull();b.output=b.output.concat(String(d).split(""))}},push:{data:0,output:1,argument:!0,exec:function(a,b,c){c.push(a.data)}},"push-unicode":{data:0,output:1,exec:function(a,b,c){var d=b.input.shift();null==d?c.push(-1):c.push(d.charCodeAt(0))}},"push-number":{data:0,output:1,exec:function(a,b,c){for(var d="";b.input.length;){var e=b.input[0];if(/[0-9-+]/.test(e))d+=e,b.input.shift();else{if(d.length>0)break;d="",b.input.shift()}}if(d.length>0){var f=parseInt(d);c.push(f)}else c.push(-1)}},copy:{data:1,output:2,exec:function(a,b,c){c.copy()}},flip:{data:2,output:2,exec:function(a,b,c){c.flip()}},select:{data:0,output:0,argument:!0,exec:function(a,b,c){b.selected=a.data}},move:{data:1,output:0,argument:!0,exec:function(a,b,c){var d=b.memory[a.data],e=c.pull();d.push(e)}},compare:{data:2,output:1,exec:function(a,b,c){var d=c.pull(),e=c.pull();c.push(e>=d?1:0)}},condition:{data:1,output:0,exec:function(a,b,c){if(0===c.pull())return!0}}};e.prototype.push=function(a){this.state.input=this.state.input.concat(a.split(""))},e.prototype.shift=function(){var a=this.state.output.join("");return this.state.output=[],a},e.prototype.reset=function(){this.state={x:0,y:0,direction:{x:0,y:1},memory:{},selected:0,input:[],output:[],running:!0},this.updated=[];for(var a=0;a<28;++a)switch(a){case 21:this.state.memory[a]=new g.Queue;break;case 28:default:this.state.memory[a]=new g.Stack}},e.prototype.next=function(){if(!this.state.running)return!1;var a=this.state.direction,b=h.convertToBits(-a.x,-a.y),c=this.map.get(this.state.x,this.state.y),d=!1;if(null!=c){var e=h.map[c.direction];a.x=h.calculate(a.x,e.x),a.y=h.calculate(a.y,e.y);var f=this.state.selected,g=this.state.memory[f],j=i[c.command];j&&(d=!g.canPull(j.data)||!!j.exec(c,this.state,g))}if(!this.state.running)return!1;d&&(a.x*=-1,a.y*=-1),h.process(this.state,this.map,a,b,this.updated,-1);var k=this.map.get(this.state.x,this.state.y);return k&&(this.state.breakpoint=k.breakpoint),this.state.running},e.prototype.trim=function(a){for(var b=0,c=0,d=0;d<this.map.height;++d){for(var e=0,f=0;f<this.map.getWidth(d);++f){var g=this.map.get(f,d);null!=g&&("none"==g.direction&&"none"==g.command||a&&null==g.directions||a&&0==g.directions.length||(e=f+1))}this.map.map[d]=this.map.map[d].slice(0,e),e>0&&(c=d+1),e>b&&(b=e)}var h=!1;return this.map.width!=b&&(h=!0),this.map.height!=c&&(h=!0),this.map.width=b,this.map.height=c,h},e.CommandMap=i,b.exports=e},{"./direction":4,"./memory":10,"./parser":13}],8:[function(a,b,c){function d(){this.stack=[],this.registerEvents()}var e=["1234567890"].map(function(a){return a.split("")}),f=["qwert","asdfg","zxcvb"].map(function(a){return a.split("")}),g=["qwertQWERT","asdfgASDFG","zxcvbZXCVBN"].map(function(a){return a.split("")}),h={q:["arrow","none"],w:["arrow","up"],e:["command","none"],r:["command","select"],t:["command","move"],a:["arrow","left"],s:["arrow","down"],d:["arrow","right"],f:["command","push"],g:["command","pop"],z:["command","subtract"],x:["command","divide"],c:["command","add"],v:["command","multiply"],b:["command","mod"],Q:["arrow","reverse"],W:["arrow","skip-up"],E:["command","end"],R:["command","condition"],T:["command","compare"],A:["arrow","skip-left"],S:["arrow","skip-down"],D:["arrow","skip-right"],F:["command","copy"],G:["command","flip"],Z:["arrow","horizontal"],X:["arrow","vertical"],C:["command","pop-number"],V:["command","pop-unicode"],B:["command","push-unicode"],N:["command","push-number"]};d.prototype.push=function(a){this.stack.push(a)},d.prototype.pop=function(){return this.stack.pop()},d.prototype.registerEvents=function(){var a=this;document.addEventListener("keypress",function(b){for(var c=b.key||String.fromCharCode(b.charCode),d=a.stack.length-1;d>=0;--d){var e=a.stack[d];if(b.ctrlKey&&(e=a.stack[0]),e&&e.map){if(void 0!=e.map[c])return e.callback(e.map[c]),!1;if(void 0!=e.map[c.toUpperCase()])return e.callback(e.map[c.toUpperCase()]),!1}}})},d.KeyNumberLayout=e,d.KeyLayout=f,d.KeyShiftLayout=g,d.EditorKeyMapping=h,d.createKeyMap=function(a,b){null==b&&(b=g);for(var c={},d=0;d<a.length;++d)for(var e=0;e<a[d].length;++e)c[b[d][e]]=a[d][e];return c},b.exports=d},{}],9:[function(a,b,c){function d(a,b){this.renderer=a,this.element=b,this.init()}var e=a("./tilemap"),f=a("./table"),g=[[{name:"掃除",data:"clean"},{name:"命令",data:"command"},{name:"矢印",data:"arrow"},{name:"経路",data:"path"},{name:"文字",data:"text"},{name:"背景",data:"highlight"}]];d.prototype.init=function(){var a=this,b=e.fromArray(g).transpose();console.log(b);new f(this.element,b,function(b,c,d,e){if(null==c)return void b.parentNode.removeChild(b);b.id="view-"+c.data,b.className="view",b.appendChild(document.createTextNode(c.name)),b.addEventListener("click",function(){if("clean"==c.data)return void a.trim();var d=a.renderer.canvases.getCanvas(c.data).style;"hidden"==d.visibility?(d.visibility="visible",b.className="view"):(d.visibility="hidden",b.className="view selected")})})},b.exports=d},{"./table":19,"./tilemap":20}],10:[function(a,b,c){function d(){}function e(){this.data=[]}function f(){this.data=[]}d.prototype.push=function(a){},d.prototype.pull=function(){},d.prototype.canPull=function(a){},d.prototype.copy=function(){},d.prototype.flip=function(){},e.prototype.push=function(a){this.data.push(a)},e.prototype.pull=function(){return this.data.pop()},e.prototype.canPull=function(a){return this.data.length>=a},e.prototype.copy=function(){if(!this.canPull(1))return!1;var a=this.pull();return this.data.push(a),this.data.push(a),!0},e.prototype.flip=function(){if(!this.canPull(2))return!1;var a=this.pull(),b=this.pull();return this.data.push(a),this.data.push(b),!0},f.prototype.push=function(a){this.data.push(a)},f.prototype.pull=function(){return this.data.shift()},f.prototype.canPull=function(a){return this.data.length>=a},f.prototype.copy=function(){if(!this.canPull(1))return!1;var a=this.data[0];return this.data.unshift(a),!0},f.prototype.flip=function(){if(!this.canPull(2))return!1;var a=this.pull(),b=this.pull();return this.data.unshift(a),this.data.unshift(b),!0},b.exports.Memory=d,b.exports.Stack=e,b.exports.Queue=f},{}],11:[function(a,b,c){function d(a,b){this.panes=a,this.buttons=b,this.selected=-1,this.registerEvents()}d.prototype.registerEvents=function(){var a=this;this.buttons.forEach(function(b,c){b.onclick=function(){a.selected==c?a.show(-1):a.show(c)}}),this.update()},d.prototype.show=function(a){this.selected=a,this.update()},d.prototype.update=function(){this.buttons.forEach(function(a,b){this.selected==b?a.className="menu-btn selected":a.className="menu-btn"},this),this.panes.forEach(function(a,b){this.selected==b?a.style.display="block":a.style.display="none"},this)},b.exports=d},{}],12:[function(a,b,c){function d(a){this.interpreter=a}var e=a("./hangul");d.prototype.getStatus=function(){var a="",b=this.interpreter.state;if(b.running){b.direction;a+="실행 중 (위치 "+b.x+", "+b.y+")\n"}else a+="실행 끝\n";for(var c=0;c<28;++c)b.selected==c&&(a+=">> "),a+=e.final[c]+": ",a+=b.memory[c].data.join(" "),a+="\n";return a},b.exports=d},{"./hangul":5}],13:[function(a,b,c){function d(a){return 44032<=a&&a<=55203}function e(a){var b={direction:"none",command:"none",original:a},c=a.charCodeAt();if(!d(c))return b;c-=k.code;var e=c%k.final.length,f=k.final[e];c=c/k.final.length|0;var g=c%k.medial.length,h=k.medial[g];c=c/k.medial.length|0;var i=c%k.initial.length,j=k.initial[i];return b.direction=l[h]||b.direction,b.command=n[j]||b.command,"push"==b.command&&("ㅇ"==f?b.command="push-number":"ㅎ"==f?b.command="push-unicode":b.data=p[f]),"pop"==b.command&&("ㅇ"==f?b.command="pop-number":"ㅎ"==f&&(b.command="pop-unicode")),"select"!=b.command&&"move"!=b.command||(b.data=e),b}function f(a){var b=h(o[a.command]||""),c=h(m[a.direction]),d=" ";"push-number"==a.command?(b="ㅂ",d="ㅇ"):"push-unicode"==a.command?(b="ㅂ",d="ㅎ"):"push"==a.command?d=h(q[a.data||0]):"pop-number"==a.command?(b="ㅁ",d="ㅇ"):"pop-unicode"==a.command?(b="ㅁ",d="ㅎ"):"select"!=a.command&&"move"!=a.command||(d=h(k.final[a.data||0]));var e=k.initial.indexOf(b),f=k.medial.indexOf(c),g=k.final.indexOf(d),i=k.code;return i+=e*k.medial.length*k.final.length,i+=f*k.final.length,i+=g,String.fromCharCode(i)}function g(a){for(var b="",c=0;c<a.height;++c){for(var d=0,e=0;e<a.getWidth(c);++e){var f=a.get(e,c);null!=f&&("none"==f.direction&&"none"==f.command||(d=e+1))}for(var e=0;e<d;++e){var f=a.get(e,c);b+=f?f.original:"ㅇ"}b+="\n"}return b.slice(0,-1)}function h(a){return a.charAt(a.length*Math.random()|0)}function i(a){for(var b=a.split("\n"),c=new j(0,b.length),d=0;d<b.length;++d){var f=b[d].split("");c.expand(f.length,0);for(var g=0;g<f.length;++g)c.set(g,d,e(f[g]))}return c}var j=a("./tilemap"),k=a("./hangul"),l={"ㅗ":"up","ㅓ":"left","ㅏ":"right","ㅜ":"down","ㅛ":"skip-up","ㅕ":"skip-left","ㅑ":"skip-right","ㅠ":"skip-down","ㅡ":"horizontal","ㅣ":"vertical","ㅢ":"reverse","ㅐㅔㅒㅖㅘㅙㅚㅝㅞㅟ":"none"},m={};Object.keys(l).forEach(function(a){m[l[a]]=a});var n={"ㅇㄱㄲㅉㅋ":"none","ㅎ":"end","ㄷ":"add","ㄸ":"multiply","ㅌ":"subtract","ㄴ":"divide","ㄹ":"mod","ㅁ":"pop","ㅂ":"push","ㅃ":"copy","ㅍ":"flip","ㅅ":"select","ㅆ":"move","ㅈ":"compare","ㅊ":"condition"},o={};Object.keys(n).forEach(function(a){o[n[a]]=a});var p={" ":0,"ㄱ":2,"ㄴ":2,"ㄷ":3,"ㄹ":5,"ㅁ":4,"ㅂ":4,"ㅅ":2,"ㅈ":3,"ㅊ":4,"ㅋ":3,"ㅌ":4,"ㅍ":4,"ㄲ":4,"ㄳ":4,"ㄵ":5,"ㄶ":5,"ㄺ":7,"ㄻ":9,"ㄼ":9,"ㄽ":7,"ㄾ":9,"ㄿ":9,"ㅀ":8,"ㅄ":6,"ㅆ":4},q={};Object.keys(p).forEach(function(a){null==q[p[a]]&&(q[p[a]]=""),q[p[a]]+=a}),b.exports.parseSyllable=e,b.exports.parse=i,b.exports.encodeSyllable=f,b.exports.encode=g},{"./hangul":5,"./tilemap":20}],14:[function(a,b,c){function d(a,b,c,d){this.interpreter=a,this.renderer=b,this.callback=c,this.resetCallback=d,this.running=!1,this.playing=!1,this.intervalId=-1,this.delay=400,this.times=1,this.registerEvents()}d.prototype.resetInterval=function(){var a=this;-1!=this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(function(){a.running&&a.step()},this.delay)},d.prototype.updateDelay=function(a){var b=document.getElementById("icon-play"+a+"x");this.preElement&&(this.preElement.className="icon",this.preElement=b),b.className="icon selected",this.times=1,1==a&&(this.delay=400),2==a&&(this.delay=20),3==a&&(this.delay=20,this.times=10),this.resetInterval()},d.prototype.registerEvents=function(){var a=this;document.getElementById("icon-play").onclick=function(){document.activeElement.blur(),a.playing=!0,a.running=!0,a.update()},document.getElementById("icon-pause").onclick=function(){document.activeElement.blur(),a.playing&&(a.running=!1,a.update())},document.getElementById("icon-step").onclick=function(){document.activeElement.blur(),a.playing=!0,a.step(!0),a.running=!1,a.update()},document.getElementById("icon-stop").onclick=function(){a.playing=!1,a.running=!1,a.resetCallback(),a.update()},document.getElementById("icon-play1x").onclick=this.updateDelay.bind(this,1),document.getElementById("icon-play2x").onclick=this.updateDelay.bind(this,2),document.getElementById("icon-play3x").onclick=this.updateDelay.bind(this,3),this.preElement=document.getElementById("icon-play1x"),this.resetInterval(),a.update()},d.prototype.update=function(){this.playing?(document.getElementById("icon-stop").className="icon",this.running?(document.getElementById("icon-play").className="icon selected",document.getElementById("icon-pause").className="icon",document.getElementById("icon-step").className="icon disabled"):(document.getElementById("icon-play").className="icon",document.getElementById("icon-pause").className="icon selected",document.getElementById("icon-step").className="icon")):(document.getElementById("icon-stop").className="icon disabled",document.getElementById("icon-play").className="icon",document.getElementById("icon-pause").className="icon disabled")},d.prototype.step=function(a){if(this.interpreter&&this.renderer){for(var b=0;b<this.times;++b){if(this.interpreter.next(),this.interpreter.state.breakpoint){this.running=!1,this.update();break}if(!this.interpreter.state.running){this.running=!1,this.stopped=!0,this.update();break}if(a)break}this.renderer.render(),this.callback&&this.callback()}},b.exports=d},{}],15:[function(a,b,c){function d(a){this.id=a.id,this.segment=a.segment,this.x=a.x,this.y=a.y,this.direction={},this.direction.x=a.direction.x,this.direction.y=a.direction.y,this.selected=a.selected,this.memory=a.memory.slice(),this.seek=a.seek||!1,this.merge=!0,this.visit=0}function e(a){this.map="string"==typeof a?f.parse(a):a,this.reset(),this.updated=[]}var f=a("./parser"),g=a("./tilemap"),h=a("./direction"),i=a("./interpreter");d.init=function(){for(var a=[],b=0;b<28;++b)a.push(0);return new d({id:0,segment:0,x:0,y:0,direction:{x:0,y:1},selected:0,memory:a})},d.prototype.diff=function(a){return this.memory.map(function(b,c){return b-a.memory[c]})},e.prototype.reset=function(){this.segments=[],this.mergeCandidates=[],this.stack=[],this.headingMap=new g(this.map.width,this.map.height);var a=d.init(),b=[];b.push(a),this.segments.push(b),this.stack.push(a)},e.prototype.postCheck=function(){for(;this.mergeCandidates.length;){var a=this.mergeCandidates.shift();if(a.merge){for(var b=this.segments[a.segment];a.otherwiseSet.length;){var c=a.otherwiseSet.shift(),d=this.segments[c.segment],e=a.direction,f=h.convertToBits(-e.x,-e.y);if(!(a.segment>=c.segment)){0==d.length&&d.push(c);for(var g;d.length;)g=d.shift(),g.segment=a.segment,g.id=b.length,b.push(g),g.before&&h.process({x:g.before.x,y:g.before.y},this.map,g.direction,f,this.updated,g.segment),e=g.direction,f=h.convertToBits(-e.x,-e.y)}}g&&g.then&&h.process({x:g.x,y:g.y},this.map,g.then.direction,f,this.updated,g.segment),a.merge=!1}}},e.prototype.next=function(){if(0===this.stack.length)return!1;var a=this.stack.pop(),b=new d(a);b.before=a,b.seek||(a.then=b);var c=this.segments[b.segment],e=b.direction,f=h.convertToBits(-e.x,-e.y),g=this.map.get(b.x,b.y),j=this.headingMap.get(b.x,b.y);null==j&&(j={},this.headingMap.set(b.x,b.y,j));var k=!1,l=!1;if(null!=g){var m=h.map[g.direction];e.x=h.calculate(e.x,m.x),e.y=h.calculate(e.y,m.y);var n=i.CommandMap[g.command];if(null!=n)if(b.memory[b.selected]>=n.data){if(b.memory[b.selected]-=n.data,b.memory[b.selected]+=n.output,"select"==g.command&&(b.selected=g.data),"move"==g.command&&b.memory[g.data]++,"end"==g.command&&(l=!0),"condition"==g.command){var o=new d(b);o.direction.x=-e.x,o.direction.y=-e.y,a.otherwise=o,this.processCursor(o,c,g,j,l,!0,f)}a.merge=!1}else e.x=-e.x,e.y=-e.y,k=!0,a.seek||(a.otherwiseSet||(a.otherwiseSet=[],this.mergeCandidates.push(a)),a.otherwiseSet.push(b))}return this.processCursor(b,c,g,j,l,k,f),this.stack.length>0},e.prototype.processCursor=function(a,b,c,d,e,f,g){var i,j=!1,k=a.direction,l=h.convertToBits(k.x,k.y,!0);if(d[l]){i=d[l],i.visit++;var m=!a.memory.every(function(b,c){var d=i.memory[c]-b;return d<=0&&b>=8&&(a.memory[c]=8),i.visit>16?d<=0:0==d});i.memory=a.memory.slice(),j=m,m||(e=!0)}i&&f&&(a.id=i.id,a.segment=i.segment),e||(j||(f&&(a.id=-1,a.segment=this.segments.length,b=[],this.segments.push(b)),a.id++,b.push(a),d[l]=a),this.stack.push(a)),h.process(a,this.map,k,g,this.updated,a.segment,!1),i&&j&&(a.id=i.id,a.segment=i.segment),a.seek=j};var j={end:"halt",add:"add",multiply:"mul",subtract:"sub",divide:"div",mod:"mod",pop:"pop","pop-number":"popnum","pop-unicode":"popchar",push:"push","push-number":"pushnum","push-unicode":"pushchar",copy:"dup",flip:"swap",select:"sel",move:"mov",compare:"cmp",condition:"brz"};e.prototype.assembly=function(){for(var a=[],b=[],c=[],d=0;d<this.segments.length;++d)for(var e=this.segments[d],f=0;f<e.length;++f){var g=e[f];g.index=c.length;var k=this.headingMap.get(g.x,g.y),l=this.map.get(g.x,g.y);if(null!=l)if("none"!=l.command){var m=i.CommandMap[l.command],n=h.convertToBits(-g.direction.x,-g.direction.y,!0);if(k[n]&&m.data>0){var o=["brpop"+m.data,k[n]];c.push(o),a.push(o)}var o=[j[l.command]];"push"==l.command&&(o[1]=l.data),"select"==l.command&&(o[1]=l.data),"move"==l.command&&(o[1]=l.data),"condition"==l.command&&(o[1]=g.otherwise,a.push(o)),c.push(o)}else if(f==e.length-1){var p=h.map[l.direction],q=h.calculate(g.direction.x,p.x),r=h.calculate(g.direction.y,p.y),s=h.convertToBits(q,r,!0),t=k[s];if(!t)continue;var o=["jmp",t];c.push(o),a.push(o)}}for(var u=0;u<a.length;++u){var v=a[u][1].index;-1==b.indexOf(v)&&b.push(v),a[u][1]="p"+b.indexOf(v)}var w=[];c.forEach(function(a,c){var d=b.indexOf(c);-1!=d&&w.push(":p"+d),w.push(a.join(" "))}),console.log(w.join("\n"))},b.exports=e},{"./direction":4,"./interpreter":7,"./parser":13,"./tilemap":20}],16:[function(a,b,c){function d(a,b,c,d,e,f,g,h){void 0===h&&(h=!0),void 0===f&&(f=5),a.beginPath(),a.moveTo(b+f,c),a.lineTo(b+d-f,c),a.quadraticCurveTo(b+d,c,b+d,c+f),a.lineTo(b+d,c+e-f),a.quadraticCurveTo(b+d,c+e,b+d-f,c+e),a.lineTo(b+f,c+e),a.quadraticCurveTo(b,c+e,b,c+e-f),a.lineTo(b,c+f),a.quadraticCurveTo(b,c,b+f,c),a.closePath(),h&&a.stroke(),g&&a.fill()}var e=a("./tilemap"),f=a("./canvaslayer"),g=a("./hangul"),h=a("./spriteloader"),i=100,j={up:[2,0],left:[2,1],right:[3,0],down:[3,1],"skip-up":[2,2],"skip-left":[2,3],"skip-right":[3,2],"skip-down":[3,3],none:[0,0],horizontal:[1,0],vertical:[1,1],reverse:[0,1]},k={up:[2,1],left:[1,2],right:[3,0],down:[2,2],"up-left":[1,1],"up-right":[0,2],"down-left":[2,0],"down-right":[0,0],horizontal:[1,0],vertical:[0,1],"skip-horizontal":[3,1],"skip-vertical":[3,2]},l=[[0,0],[1,0],[0,1],[1,1],[0,2],[1,2]],m={none:[0,0],end:[1,0],add:[2,0],multiply:[3,0],subtract:[2,1],divide:[3,1],mod:[1,1],push:[0,1],"push-unicode":[4,1],"push-number":[4,0],pop:[0,2],"pop-unicode":[4,3],"pop-number":[4,2],copy:[1,2],flip:[2,2],select:[3,2],move:[0,3],compare:[1,3],condition:[2,3],breakpoint:[3,3]},n=function(a,b,c){var d=this;this.interpreter=b,this.map=b.map,this.width=c||50,this.canvases=new f(a,["background","highlight","text","path","arrow","command"],this.width*(this.map.width+1),this.width*(this.map.height+1)),this.sprites=new h(function(){d.reset()}),this.sprites.load("path","img/path.png"),this.sprites.load("arrow","img/arrow.png"),this.sprites.load("command","img/command.png")};n.prototype.reset=function(){this.cacheMap=new e(this.interpreter.map.width+1,this.interpreter.map.height+1),this.canvases.setSize(this.width*(this.interpreter.map.width+1),this.width*(this.interpreter.map.height+1)),this.canvases.forEach(function(a){a.font=.6*this.width+"px sans-serif",a.textAlign="center",a.textBaseline="middle",a.fillStyle="#000"},this),this.canvases.get("background").fillRect(0,0,this.canvases.width,this.canvases.height),this.canvases.get("text").fillStyle="#555";for(var a=0;a<=this.interpreter.map.height;++a)for(var b=0;b<=this.interpreter.map.width;++b)this.cacheMap.set(b,a,{}),this.updateTile(b,a)},n.prototype.redraw=function(){for(var a=0;a<=this.interpreter.map.height;++a)for(var b=0;b<=this.interpreter.map.width;++b)this.updateTile(b,a)},n.prototype.updateTile=function(a,b){var c=this.interpreter.state,e=this.interpreter.map.get(a,b),f=this.cacheMap.get(a,b);this.canvases.forEach(function(c){c.save(),c.translate(a*this.width,b*this.width)},this);var h=c&&c.x==a&&c.y==b;if(f.highlighted!=h){f.highlighted=h;var n=this.canvases.get("highlight");n.clearRect(0,0,this.width,this.width),n.fillStyle=h?"#666":"#222",d(n,1,1,this.width-2,this.width-2,4,!0)}if(e){if(f.text!=e.original){f.text=e.original;var o=this.canvases.get("text");o.clearRect(0,0,this.width,this.width),o.fillText(e.original,this.width/2,this.width/2)}if(e.directions&&f.directions!=Object.keys(e.directions).length){f.directions=Object.keys(e.directions).length,this.canvases.get("path").clearRect(0,0,this.width,this.width);for(var p=e.directions.length-1;p>=0;--p){var q=e.directions[p];null!=q&&q.forEach(function(a){var b=l[p%6],c=k[a],d=this.sprites.get("path");this.canvases.get("path").drawImage(d,(4*b[0]+c[0])*i,(3*b[1]+c[1])*i,i,i,0,0,this.width,this.width)},this)}}
if(f.direction!=e.direction){f.direction=e.direction;var r=this.canvases.get("arrow");r.clearRect(0,0,this.width,this.width);var s=j[e.direction];r.drawImage(this.sprites.get("arrow"),s[0]*i,s[1]*i,i,i,0,0,this.width,this.width)}if(f.command!=e.command||f.data!=e.data||f.breakpoint!=e.breakpoint){f.command=e.command,f.data=e.data,f.breakpoint=e.breakpoint;var t=this.canvases.get("command"),u=m[e.command];if(t.clearRect(0,0,this.width,this.width),t.drawImage(this.sprites.get("command"),u[0]*i,u[1]*i,i,i,0,0,this.width,this.width),e.breakpoint&&(u=m.breakpoint,t.drawImage(this.sprites.get("command"),u[0]*i,u[1]*i,i,i,0,0,this.width,this.width)),null!=e.data){var v="";"push"==e.command&&(v=e.data),"select"==e.command&&(v=g.final[e.data]),"move"==e.command&&(v=g.final[e.data]),t.font=.3*this.width+"px sans-serif",t.textAlign="right",t.textBaseline="bottom",t.fillStyle="#fff",t.fillText(v,this.width-3,this.width-3)}}}this.canvases.forEach(function(a){a.restore()},this)},n.prototype.render=function(){for(var a=this.interpreter.state;this.interpreter.updated.length>0;){var b=this.interpreter.updated.shift();this.updateTile(b.x,b.y)}a&&this.updateTile(a.x,a.y)},b.exports=n},{"./canvaslayer":2,"./hangul":5,"./spriteloader":18,"./tilemap":20}],17:[function(a,b,c){function d(a,b){this.viewport=a,this.clickCallback=b,this.registerEvents(),this.tolerance=6}d.prototype.registerEvents=function(){function a(d){return document.removeEventListener("mouseup",a),document.removeEventListener("mousemove",b),Math.abs(f)<c.tolerance&&Math.abs(g)<c.tolerance&&c.clickCallback&&c.clickCallback(d),!1}function b(a){var b=a.pageX-d,h=a.pageY-e;c.viewport.scrollTop-=h,c.viewport.scrollLeft-=b,f-=b,g-=h,d=a.pageX,e=a.pageY}var c=this,d=0,e=0,f=0,g=0;this.viewport.addEventListener("mousedown",function(c){return d=c.pageX,e=c.pageY,f=0,g=0,document.addEventListener("mouseup",a),document.addEventListener("mousemove",b),c.preventDefault(),!1})},b.exports=d},{}],18:[function(a,b,c){function d(a){this.sprites=[],this.loadCount=0,this.callback=a}d.prototype.get=function(a){return this.sprites[a]},d.prototype.load=function(a,b){var c=new Image;c.src=b,c.onload=function(){this.sprites[a]=c,this.handleDone()}.bind(this),this.loadCount++},d.prototype.handleDone=function(){0==--this.loadCount&&this.callback&&this.callback()},b.exports=d},{}],19:[function(a,b,c){function d(a,b,c){this.viewport=a,this.tilemap=b,this.updateCallback=c,this.reset()}var e=a("./tilemap");d.prototype.reset=function(){this.domMap=new e(this.tilemap.width,this.tilemap.height),this.createNodes()},d.prototype.createNodes=function(){for(;this.viewport.firstChild;)this.viewport.removeChild(this.viewport.firstChild);for(var a=0;a<this.domMap.height;++a){var b=document.createElement("tr");this.viewport.appendChild(b);for(var c=0;c<this.domMap.width;++c){var d=document.createElement("td");b.appendChild(d),d.tx=c,d.ty=a,this.domMap.set(c,a,d),this.updateNode(c,a)}}},d.prototype.updateNode=function(a,b){var c=this.domMap.get(a,b),d=this.tilemap.get(a,b);this.updateCallback(c,d,a,b)},b.exports=d},{"./tilemap":20}],20:[function(a,b,c){function d(a,b){this.width=a,this.height=b,this.map=null,this.clear()}d.prototype.clear=function(){this.map=[];for(var a=0;a<this.height;++a){var b=[];this.map[a]=b}},d.prototype.expand=function(a,b){var c,d,e=(this.width,this.height);for(a>this.width&&(this.width=a),b>this.height&&(this.height=b),c=0;c<e;++c)d=this.map[c];for(c=e;c<this.height;++c)d=[],this.map[c]=d},d.prototype.getWidth=function(a){return a<0||a>=this.height?0:this.map[a].length},d.prototype.get=function(a,b){return b<0||b>=this.height?null:a<0||a>=this.width?null:this.map[b][a]},d.prototype.set=function(a,b,c){if(b<0||b>=this.height)throw new Error("TileMap out of bounds");if(a<0||a>=this.width)throw new Error("TileMap out of bounds");this.map[b][a]=c},d.prototype.transpose=function(){for(var a=new d(this.height,this.width),b=0;b<this.width;++b)for(var c=0;c<this.height;++c)a.set(c,b,this.get(b,c));return a},d.fromArray=function(a){for(var b=new d(0,a.length),c=0;c<a.length;++c){b.expand(a[c].length,0);for(var e=0;e<a[c].length;++e)b.set(e,c,a[c][e])}return b},b.exports=d},{}],21:[function(a,b,c){function d(a){this.selected={type:"arrow",name:"none"},this.oldNode=null,this.renderer=a,this.scrollPane=null,this.generateTable()}var e=a("./keyboard"),f=a("./tilemap"),g=a("./table");d.prototype.generateTable=function(){for(var a=this,b=new f(0,e.KeyShiftLayout.length),c=0;c<b.height;++c){b.expand(e.KeyShiftLayout[c].length,0);for(var d=0;d<e.KeyShiftLayout[c].length;++d){var h=e.KeyShiftLayout[c][d];b.set(d,c,{value:e.EditorKeyMapping[h],key:h})}}var i=document.getElementById("toolbox-table");this.table=new g(i,b,function(b,c){if(!c||!c.value)return void b.parentNode.removeChild(b);b.id=c.value.join("-"),b.className=c.value[0],b.appendChild(document.createTextNode(c.key)),b.addEventListener("click",function(){a.changeSelected.apply(a,c.value)})})},d.prototype.changeSelected=function(a,b){this.oldNode&&(this.oldNode.className=this.selected.type),this.selected.type=a,this.selected.name=b;var c=document.getElementById(a+"-"+b);c.className=a+" selected",this.oldNode=c},b.exports=d},{"./keyboard":8,"./table":19,"./tilemap":20}],22:[function(a,b,c){function d(a){this.undoStack=[],this.redoStack=[],this.callback=a}d.prototype.run=function(a){this.redoStack=[],a.exec(),this.undoStack.push(a),this.callback&&this.callback()},d.prototype.canUndo=function(){return this.undoStack.length>=1},d.prototype.undo=function(){if(!this.canUndo())return!1;var a=this.undoStack.pop();return a.undo(),this.redoStack.push(a),this.callback&&this.callback(),a},d.prototype.canRedo=function(){return this.redoStack.length>=1},d.prototype.redo=function(){if(!this.canRedo())return!1;var a=this.redoStack.pop();return a.exec(),this.undoStack.push(a),this.callback&&this.callback(),a},d.prototype.reset=function(){this.undoStack=[],this.redoStack=[],this.callback&&this.callback()},b.exports=d},{}],23:[function(a,b,c){function d(a,b,c,d,f,g,h){this.element=a,this.toolbox=b,this.renderer=c,this.contextmenu=d,this.undomachine=f,this.scrollpane=new e(a,this.handleMouseClick.bind(this)),this.checkCallback=g,this.clickCallback=h,this.hookEvents()}var e=a("./scrollpane"),f=a("./action");a("./parser");d.prototype.hookEvents=function(){this.element.addEventListener("contextmenu",this.handleContext.bind(this))},d.prototype.handleMouseClick=function(a){var b=0,c=0,d=0,e=0,g=this.element;do{b+=g.offsetLeft-g.scrollLeft,c+=g.offsetTop-g.scrollTop,g=g.offsetParent}while(g);b+=this.renderer.canvases.viewport.offsetLeft,c+=this.renderer.canvases.viewport.offsetTop,b+=document.body.scrollLeft,c+=document.body.scrollTop,d=a.pageX-b,e=a.pageY-c,a.preventDefault();var h=d/this.renderer.width|0,i=e/this.renderer.width|0;if(!this.checkCallback(h,i))return!1;if(h<0)return!1;if(i<0)return!1;if(h>this.renderer.map.width)return!1;if(i>this.renderer.map.height)return!1;this.renderer.map.expand(h+1,i+1),(h+1>=this.renderer.map.width||i+1>=this.renderer.map.height)&&this.renderer.reset();var j=this.renderer.map.get(h,i)||{direction:"none",command:"none",original:" "};if(0==a.button){var k=this.toolbox.selected;"arrow"==k.type?this.undomachine.run(new f(j,h,i,{direction:k.name},this.renderer,this.clickCallback.bind(this,h,i,j))):this.undomachine.run(new f(j,h,i,{command:k.name},this.renderer,this.clickCallback.bind(this,h,i,j)))}else if(2==a.button){var l=h*this.renderer.width+b,m=(i+1)*this.renderer.width+c;this.contextmenu.tileX=h,this.contextmenu.tileY=i,this.contextmenu.tile=j,this.contextmenu.show(l,m)}},d.prototype.handleContext=function(a){return a.preventDefault(),!1},b.exports=d},{"./action":1,"./parser":13,"./scrollpane":17}]},{},[6]);
//# sourceMappingURL=aheuichem.min.js.map